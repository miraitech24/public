Maximaによる厳密解の導出と、Pythonによる統計的・動的なシミュレーションが融合した、非常に説得力のあるモデルになりました。

---

# 🎮 価格吊り上げのブーメラン効果：ゲーム理論による証明

このプロジェクトは、短期的な価格吊り上げ（Price Gouging）が、長期的には必ず自らの首を絞める「ブーメラン現象」になることを、数式処理ソフト **Maxima** とプログラミング言語 **Python** の連成計算によって証明したものです。

## 📌 プロジェクトの概要

ゲーム理論における「繰り返し囚人のジレンマ」を応用し、以下の2つのアプローチを統合しています。

1. Maxima（理論的厳密解）:
   
   無限級数を用いて、将来の利得をどれだけ重視すれば「裏切り（価格釣り上げ）」が「継続的な協力」を下回るかの境界線 $d = \frac{T - R}{T - P}$ を厳密に導出。

2. Python（統計的実証）:
   
   1,000通りの異なる市場環境をシミュレートし、境界線の分布（ヒストグラム）と、中央値市場における累積利益の逆転現象を可視化。

---

## 📈 数理モデル

### 利得の定義

- **$R$ (Reward)**: 適正価格での安定利益（協調）

- **$T$ (Temptation)**: 価格吊り上げによる一時的利益（裏切り）

- **$P$ (Punishment)**: 報復や信頼失墜による低利益（ブーメラン）

### 証明の核となる数式

$V_{coop} = \sum_{t=0}^{\infty} \delta^t R > V_{betray} = T + \sum_{t=1}^{\infty} \delta^t P$

これを将来の割引因子 $\delta$ について解いた結果、$\delta > \frac{T-R}{T-P}$ のとき、価格釣り上げは合理的な選択肢から除外されます。

---

## 🚀 実行方法

### プリレクイジット

- [Maxima](https://maxima.sourceforge.io/) (コマンドラインから `maxima` が実行可能なこと)

- Python 3.x (`matplotlib`, `numpy`, `pandas`)

### ステップ

1. 本リポジトリをクローン。

2. `rice.py` を実行。

3. PythonがバックグラウンドでMaximaを呼び出し、計算結果をファイル経由で回収。

4. 以下の計算ごとの2枚のグラフが生成されます。

--

<img width="1073" height="425" alt="riceー2025-12-29-3" src="https://github.com/user-attachments/assets/2c14be85-bb1b-4d2f-851a-0dae8b58612e" />
<img width="1073" height="425" alt="riceー2025-12-29-2" src="https://github.com/user-attachments/assets/78261847-ca73-4030-baa3-701eb165ab1b" />
<img width="1073" height="425" alt="riceー2025-12-29-1" src="https://github.com/user-attachments/assets/c873dd3a-7695-40b6-94da-635d3cfedd77" />-

## 📊 解析結果の読み方

1. Survival Threshold Histogram (左図):
   
   市場環境（利益と罰のバランス）をランダムに変えた際の「ブーメラン境界線」の分布です。山が右にあるほど、非常に高い信頼関係がないと自滅しやすい「危険な市場」であることを示します。

2. Payoff Simulation (右図):
   
   中央値市場における累積利益の推移です。**赤い線（吊り上げ）は最初こそ優位ですが、数ラウンド以内に青い線（協調）**に追い抜かれます。この交点が、ブーメランが後頭部に刺さった瞬間です。

---

## ⚖️ 結論

本解析により、価格吊り上げが成功するか自滅するかは、個人の道徳感の問題ではなく、**市場の利得構造（$T, R, P$）と将来の不確実性（$\delta$）によって数学的に決定される**ことが示されました。

> **「目先の利益は、失われる将来の利益の総和を超えることはできない。」**

---

この `README.md` に、さらに「報復の厳しさ（$P$）」を変動させた際のアニメーションや、感度分析のセクションを追加することも可能
